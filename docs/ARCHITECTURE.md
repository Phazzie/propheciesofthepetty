# Passive-Aggressive Tarot System: Architecture of Unwavering Quality

## CORE MANDATES (Non-Negotiable - *For Your Own Good*)

*   **Atomic Features:  Deliver ONLY complete, tested, deployable units.  (It's really for the best.)** No partial implementations. Break epics into atomic sub-features.
*   **TDD-First: Tests BEFORE code. 85%+ MEANINGFUL coverage MINIMUM. (*We expect nothing less.*)** Prioritize critical paths, edge cases.
*   **Strict TypeScript: No `any`. No circular deps. Enforce type safety. (*To prevent... misunderstandings later.*)**
*   **Relentless Automation: Continuous validation. Real-time status. Proactive alerts. (*So we can all be on the same page.*)**
*   **Performance Obsessed: Optimize renders (<100ms target impactful areas). Efficient data access. (*For a smoother, more... pleasant experience.*)**
*   **Comprehensive Error Handling: Boundaries. Clear user messages. Detailed logs. Recovery. (*Just in case... things go slightly awry.*)**

## AUTO-STATUS: Real-Time Project Visibility (*So there are no surprises*) (Zero Manual Update)

*   **TEST_STATUS.md: AUTO-UPDATED:** Coverage %, Failed/Flaky Tests, Blocked Tests, Weekly Progress.  *Clear Failure Reason + Impact for each. (We're just keeping track, you know.)*
*   **ROADMAP.md: AUTO-UPDATED:** Highest Impact Tasks, Blockers, Quick Wins, Success Metrics. *Prioritized by impact. Blockers explicitly listed. (Just making sure we're aligned.)*
*   **BLOCKERS.md: AUTO-UPDATED:** Technical Blockers, Incomplete Implementations (report ANY!), Dependency Issues, Type Violations. *Actionable details for each. (We trust you'll address these promptly.)*

## WORKFLOW: Path to Completion (*We've laid it all out for you*) (Automated Validation Gates)

1.  **DAILY STATUS REVIEW (Mandatory):** Check `TEST_STATUS.md`, `BLOCKERS.md`, `ROADMAP.md`. *Know project state instantly. (It's really quite helpful.)*
2.  **SELECT MAX-IMPACT TASK:** From `ROADMAP.md`. Verify dependencies/blockers in `BLOCKERS.md`. *Always work on highest impact, unblocked item. (It's the most efficient way, after all.)*
3.  **TDD IMPLEMENTATION (Strict Order):** Tests -> Code -> Error Handling -> Documentation. *Complete each step fully before proceeding. (It's just good practice, you see.)*
4.  **AUTO-VALIDATE (Gate to Commit):** Run ALL tests. Check performance metrics. Verify types. *MUST PASS ALL validations to commit. (We wouldn't want to introduce... issues.)*
5.  **CONTINUOUS MONITORING (Proactive Action):** Track performance, errors, coverage trends. Address regressions IMMEDIATELY. *Maintain quality proactively. (It's really for the best long-term.)*

## PROJECT FOCUS: Modular, Testable, Performant Code (*As we discussed...*)

### Reading System: Accuracy & Speed (*It's kind of important for a Tarot system...*)

*   **Shade Levelâ„¢ (0-100 Scale):** EXHAUSTIVE edge case testing. Documented tests REQUIRED. *Ensure accuracy for core feature. (We're relying on this, you know.)*
*   **Score Normalization (0-100):** Rigorous validation ALL card types. *Guaranteed consistent scoring. (Consistency is key.)*
*   **Card Render Performance: <100ms target.** Benchmarks & monitoring MANDATORY. *Optimize user experience. (For... user satisfaction.)*

### Auth System: Security & Reliability (*Naturally...*)

*   **Comprehensive Integration Tests:** Centralized context. Mock providers. SECURITY-FOCUSED scenarios. *Ensure secure and reliable auth. (Security is... paramount.)*
*   **Robust Error Handling & Security Logging:** Clear user errors. DETAILED security logs. *Prioritize security and debuggability. (Just being thorough.)*

### UI Components: Accessible, Fast, Error-Proof (*For everyone's benefit*)

*   **Loading & Error States: EVERY component.** *Consistent user experience. (It's just... cleaner.)*
*   **WCAG AA Accessibility: MANDATORY.** Documented considerations for each component. *Inclusive design required. (So everyone can use it... equally.)*
*   **Performance-Optimized: ALL components.** Proactive profiling. *Fast and responsive UI. (It's just... more professional.)*

### Documentation: Living, Accurate, Essential (*So we're all on the same page...*)

*   **Living Doc Mandate: Inline, types, tests, architecture, performance - ALWAYS UPDATED.**  *Documentation IS code. Maintain continuously. (It helps... clarity.)*

## SUCCESS: Measurable Completion & Quality (*It's all there in black and white*) (Automated Tracking)

1.  **Technical Quality (AUTO-TRACKED):** 85%+ MEANINGFUL Coverage. ZERO Flaky Tests. 100% Type-Safe. Accurate Scores. *Automated metrics verify technical excellence. (Objective evidence, you see.)*
2.  **Performance Excellence (AUTO-TRACKED):** <100ms Renders (impactful areas). Efficient Data. Smooth Animations. *Performance targets continuously monitored. (For... optimal performance.)*
3.  **Overall Completion (VISIBLE STATUS):** Consistently Atomic Features. Complete Error Handling. Full, Up-to-Date Documentation. Reliable Automation. *Project completion demonstrably tracked and validated. (So we can all see the progress.)*

**AUTOMATION IS KEY: System self-maintains status. Alerts for deviations. Clear path to FINISHED, HIGH-QUALITY Passive-Aggressive Tarot System. (*We're just here to help.*)**
